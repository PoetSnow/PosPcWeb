@{
    Layout = null;
}
@model Gemstar.BSPMS.Hotel.Web.Areas.PosManage.Models.PosInSingle.CancelItemQuantity

<link href="~/Content/Pos/posNumberInput.css?version=@ViewBag.Version" rel="stylesheet" />

<span>  名称：</span><span>@Model.itemName</span><br />
<span> 数量：</span><span>@Model.quantity</span>

<input id="txtNumberValueByCancelItem" class="k-textbox" type="text" placeholder="" style="background-color:#ececec;" value="" />
<table id="letterInput">
    <tr>
        <td><input id="btnKey1" type="button" value="1" onclick="inputByCancelItem('1')" class="number" /></td>
        <td><input id="btnKey2" type="button" value="2" onclick="inputByCancelItem('2')" class="number" /></td>
        <td><input id="btnKey3" type="button" value="3" onclick="inputByCancelItem('3')" class="number" /></td>
        <td colspan="2" rowspan="2" style="width:100%;height:100%;"><input id="btnOpenTabtypeWindow" type="button" value="确定"  style="width:100%;height:100%;line-height:10rem;"onclick="inputByCancelItem('确定')" /></td>
    </tr>
    <tr>
        <td><input id="btnKey4" type="button" value="4" onclick="inputByCancelItem('4')" class="number" /></td>
        <td><input id="btnKey5" type="button" value="5" onclick="inputByCancelItem('5')" class="number" /></td>
        <td><input id="btnKey6" type="button" value="6" onclick="inputByCancelItem('6')" class="number" /></td>
    </tr>
    <tr>
        <td><input id="btnKey7" type="button" value="7" onclick="inputByCancelItem('7')" class="number" /></td>
        <td><input id="btnKey8" type="button" value="8" onclick="inputByCancelItem('8')" class="number" /></td>
        <td><input id="btnKey9" type="button" value="9" onclick="inputByCancelItem('9')" class="number" /></td>
        <td colspan="2"><input id="btnKeyTg" type="button" value="退格" onclick="inputByCancelItem('退格')" /></td>
    </tr>
    <tr>
        <td><input id="btnKey." type="button" value="." onclick="inputByCancelItem('.')" class="number" /></td>
        <td><input id="btnKey0" type="button" value="0" onclick="inputByCancelItem('0')" class="number" /></td>
        <td><input id="btnKey/" type="button" value="/" onclick="inputByCancelItem('/')" class="number" /></td>
        <td colspan="2"><input id="btnKeyQk" type="button" value="清空" onclick="inputByCancelItem('清空')" class="letter" /></td>
    </tr>
</table>

<script>
    //处理输入
    function inputByCancelItem(value) {
        var val = $("#txtNumberValueByCancelItem").val();

        if (value.indexOf("退格") === -1 && value.indexOf("清空") === -1 && value.indexOf("确定") === -1) {
            $("#txtNumberValueByCancelItem").val(val + value);
            $("").val(val + value);
        }
        else if (value.indexOf("退格") > -1) {
            $("#txtNumberValueByCancelItem").val(val.replace(/.$/, ''));
            $("").val(val.replace(/.$/, ''));
        }
        else if (value.indexOf("清空") > -1) {
            $("#txtNumberValueByCancelItem").val("");
            $("").val("");
        }
        else if (value.indexOf("确定") > -1) {
            @(Html.Raw(Model.Callback))
            return false;
        }
        @(Html.Raw(Model.InputCallback))
    }
</script>
<style>
    #txtNumberValueByCancelItem {
        width: 100%;
        font-size: 20px;
        margin: 0.1rem 0;
    }
</style>